<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>zenscraper_0_3.py</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>zenscraper_0_3.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p>Zenscraper Python Library v 0.2</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">lxml.html</span>
<span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="kn">from</span> <span class="nn">requests.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">InsecureRequestWarning</span>
<span class="kn">import</span> <span class="nn">selenium</span>


<span class="n">requests</span><span class="o">.</span><span class="n">packages</span><span class="o">.</span><span class="n">urllib3</span><span class="o">.</span><span class="n">disable_warnings</span><span class="p">(</span><span class="n">InsecureRequestWarning</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../../scripts&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pyersq.requests_wrapper</span> <span class="kn">import</span> <span class="n">RequestsWrapper</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">()</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>zenscraper 0.3
ZenScraper , stealth scraping that follows selenium rules.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">ZenScraper</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">doc</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">response</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">utils</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">selenium_utils</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">datastream</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utils</span> <span class="o">=</span> <span class="n">_UtilFunctions</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium_utils</span> <span class="o">=</span> <span class="n">_SeleniumUtils</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datastream</span> <span class="o">=</span> <span class="n">_DataStream</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logger</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p>find multiple elements in the class</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_find_elements_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err_message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">element_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">doc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
                <span class="n">element_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ZenElement</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">element_list</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;element list generated&#39;</span><span class="p">)</span>  <span class="c1">#</span>
                <span class="k">return</span> <span class="n">element_list</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;no element list found&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span>
                <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># pylint: disable=logging-fstring-interpolation</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <p>find single element from the class</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_find_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err_message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">doc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span>
            <span class="n">element</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> element found&#39;</span><span class="p">,</span> <span class="n">ZenElement</span><span class="p">(</span>
                <span class="n">element</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">get_tag</span><span class="p">())</span>  <span class="c1"># pylint: disable=logging-fstring-interpolation</span>
            <span class="k">return</span> <span class="n">ZenElement</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">,</span>
                <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># pylint: disable=logging-fstring-interpolation</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <pre><code>    :param url: destination url to get document body
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span>
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: id cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//node()[@id=&quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">,</span>
                <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
            <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: element cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="n">to_search</span><span class="p">,</span>
                <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
            <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;&lt;Error: no element that contains </span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2"> in the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">[normalize-space(text()) = &quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">,</span>
                <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
            <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;&lt;Error: no element that contains </span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2"> in the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">[contains(text(), &quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;)]&#39;</span><span class="p">,</span>
                <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
            <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: tagname cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;//</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">output_dict</span><span class="p">[</span><span class="n">by_mode</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>


    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">sleep_seconds</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;GET request on </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sleep_seconds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sleep_seconds</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">RequestsWrapper</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sleep_seconds</span><span class="o">=</span><span class="n">sleep_seconds</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">response</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doc</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <pre><code>    :param by_mode: By Enumerator to search for e.g. XPATH, ID, CLASSNAME
    :param tosearch: the string to search
    :param doc: document body
    :param tag: works best with LINK_TEXT, PARTIAL_LINK_TEXT
    :return: ZenElement Object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">find_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_elements_list</span><span class="p">(</span><span class="o">**</span><span class="n">output_dict</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <pre><code>    :param by: By Enumerator to search for e.g. XPATH, ID, CLASSNAME
    :param tosearch: the string to search
    :param doc: document body
    :param tag: works best with LINK_TEXT, PARTIAL_LINK_TEXT
    :return: ZenElement Object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">find_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_element</span><span class="p">(</span><span class="o">**</span><span class="n">output_dict</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <pre><code>    Print status_code on console
    :return: return status_code as an integer
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">status_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <pre><code>    get the current URL Link
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">show_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>ZenElement , work like selenium Element Object</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">ZenElement</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">element</span> <span class="o">=</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <p>Init ZenElement</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="n">element</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <p>Find Elements</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_find_elements_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err_message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">element_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
                <span class="n">element_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ZenElement</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">element_list</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;element list generated&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">element_list</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;no element list generated&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">,</span>
                <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <p>Find ELement</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_find_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err_message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>  <span class="c1"># pylint: disable=logging-fstring-interpolation</span>
                <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> element found&#39;</span><span class="p">,</span> <span class="n">ZenElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">get_tag</span><span class="p">())</span>
            <span class="k">return</span> <span class="n">ZenElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <pre><code>    :param inner_text_filter: you can add an array if you want
    ot add additional filter for your inner_text
    :return: filtered string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span>
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: id cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//node()[@id=&quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">},</span>
            <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: element cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="n">to_search</span><span class="p">},</span>
            <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;&lt;Error: no element that contains </span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2"> in the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">[normalize-space(text()) = &quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">},</span>
            <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;&lt;Error: no element that contains </span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2"> in the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">[contains(text(), &quot;</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s1">&quot;)]&#39;</span><span class="p">},</span>
            <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;err_message&#39;</span><span class="p">:</span> <span class="s2">&quot;&lt;Error: tagname cannot be found on the html&gt;&quot;</span><span class="p">,</span>
                <span class="s1">&#39;xpath&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;//</span><span class="si">{</span><span class="n">to_search</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">output_dict</span><span class="p">[</span><span class="n">by_mode</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_inner_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inner_text_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">element_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_string</span><span class="p">()</span>
        <span class="n">stripped</span> <span class="o">=</span> <span class="n">_UtilFunctions</span><span class="p">()</span><span class="o">.</span><span class="n">strings</span><span class="o">.</span><span class="n">strip_html</span><span class="p">(</span><span class="n">element_str</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inner_text_filter</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">rep</span> <span class="ow">in</span> <span class="n">inner_text_filter</span><span class="p">:</span>
                <span class="n">stripped</span> <span class="o">=</span> <span class="n">stripped</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">stripped</span> <span class="o">=</span> <span class="n">stripped</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stripped</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <pre><code>    Get the innerHTML of an Element, and convert it to string
    :return: string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_to_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">))</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;b&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">string</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <pre><code>    :param by_mode: By Enumerator the guide on what to search e.g. By.XPATH, By.TAG_NAME
    :param to_search: tosearch on the document body
    :param tag: parent element tag , default node(), means all element
    :return: List of ZenElement Objects
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">find_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_elements_list</span><span class="p">(</span><span class="o">**</span><span class="n">output_dict</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <pre><code>    :param by_mode: By Enumerator the guide on what to search e.g. By.XPATH, By.TAG_NAME
    :param to_search: tosearch on the document body
    :param tag: parent element tag , default node(), means all element
    :return: ZenElement Object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">find_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;node()&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_dict_values</span><span class="p">(</span><span class="n">by_mode</span><span class="p">,</span> <span class="n">to_search</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_element</span><span class="p">(</span><span class="o">**</span><span class="n">output_dict</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      <pre><code>    :param attribute: attribute like innerText, innerHTML,
</code></pre>
<p>class, image, alt, title etc.
        :param inner_text_filter: if you want to filter your string ,
only work on innerText attribute
        :return: string</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">inner_text_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Get Element Attribute </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="p">)</span>
        <span class="n">err_message</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;&lt;Error: attribute in the element cannot be found, try different attribute&gt;&quot;</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attribute</span> <span class="o">==</span> <span class="s1">&#39;innerText&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inner_text</span><span class="p">(</span><span class="n">inner_text_filter</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">attribute</span> <span class="o">==</span> <span class="s1">&#39;innerHTML&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_string</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attribute</span><span class="p">))</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      <pre><code>    get the current tag of the element
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">get_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Get Element Tag&#39;</span><span class="p">)</span>
        <span class="n">err_message</span> <span class="o">=</span> <span class="s2">&quot;&lt;Error: There is no Text inside the Element&gt;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="n">string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Element&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">string</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathEvalError</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">XPathError</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_message</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      <p>get text inside the element , use get_attribute(&lsquo;innerText&rsquo;)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">get_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>         <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">text</span> <span class="n">inside</span> <span class="n">the</span> <span class="n">element</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        logger.info(&#39;Get text from element&#39;)</span>
<span class="s2">        err_message = &quot;&lt;Error: There is no text inside this Element&gt;&quot;</span>
<span class="s2">        try:</span>
<span class="s2">            if self.element.text is None:</span>
<span class="s2">                logging.error(err_message)</span>
<span class="s2">                return None</span>

<span class="s2">            return self.element.text</span>
<span class="s2">        except (lxml.etree.XPathEvalError, lxml.etree.Error, lxml.etree.XPathError) as err:</span>
<span class="s2">            logging.error(err)</span>
<span class="s2">            logging.error(err_message)</span>
<span class="s2">            return None</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def get_parent(self):</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="n">get</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">element</span> <span class="n">of</span> <span class="n">the</span> <span class="n">current</span> <span class="n">element</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        logger.info(&#39;Getting Element Parent&#39;)</span>
<span class="s2">        return ZenElement(self.element.xpath(&quot;./parent::node()&quot;)[0])</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def get_children(self, tagname=&quot;*&quot;):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Getting Element Children&#39;)</span>
<span class="s2">        return self._find_elements_list(</span>
<span class="s2">            err_message=&quot;&lt;Error: No Children Inside the element&gt;&quot;,</span>
<span class="s2">            xpath=f&quot;./children::</span><span class="si">{tagname}</span><span class="s2">&quot;,</span>
<span class="s2">        )</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class By(Enum):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    ID = 1</span>
<span class="s2">    XPATH = 2</span>
<span class="s2">    LINK_TEXT = 3</span>
<span class="s2">    PARTIAL_LINK_TEXT = 4</span>
<span class="s2">    NAME = 5</span>
<span class="s2">    TAG_NAME = 6</span>
<span class="s2">    CLASS_NAME = 7</span>
<span class="s2">    CSS_SELECTOR = 8</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctions:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    strings = None</span>
<span class="s2">    files = None</span>
<span class="s2">    html = None</span>
<span class="s2">    json = None</span>
<span class="s2">    parse = None</span>
<span class="s2">    decorator = None</span>
<span class="s2">    data = None</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def __init__(self):</span>
<span class="s2">        self.strings = _UtilFunctionsStrings()</span>
<span class="s2">        self.files = _UtilFunctionsFiles()</span>
<span class="s2">        self.html = _UtilFunctionsHTML()</span>
<span class="s2">        self.json = _UtilFunctionsJSON()</span>
<span class="s2">        self.parse = _UtilFunctionsParse()</span>
<span class="s2">        self.decorator = _UtilFunctionsDecorator()</span>
<span class="s2">        self.data = _UtilFunctionsData()</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsStrings:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def strip_html(value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;stripping HTML tags from string&#39;)</span>
<span class="s2">        string = re.compile(r&quot;&lt;.*?&gt;|=&quot;)</span>
<span class="s2">        return string.sub(&quot;&quot;, value)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def remove_non_digits(value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        output = &#39;&#39;.join(c for c in value if c.isdigit())</span>
<span class="s2">        return output</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def remove_digits(value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        output = &#39;&#39;.join(c for c in value if not c.isdigit())</span>
<span class="s2">        return output</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def remove_non_alpha_char(value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        value = value.lower()</span>
<span class="s2">        output = &#39;&#39;</span>
<span class="s2">        letter = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;,</span>
<span class="s2">                  &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;,</span>
<span class="s2">                  &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;]</span>
<span class="s2">        for char in value:</span>
<span class="s2">            if any(x == char for x in letter):</span>
<span class="s2">                output += char</span>
<span class="s2">        return output</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def is_month(month):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if any(x == month.lower() for x in</span>
<span class="s2">               [&#39;jan&#39;, &#39;feb&#39;, &#39;mar&#39;, &#39;apr&#39;, &#39;may&#39;, &#39;jun&#39;, &#39;jul&#39;, &#39;aug&#39;, &#39;sep&#39;, &#39;oct&#39;, &#39;nov&#39;,</span>
<span class="s2">                &#39;dec&#39;]):</span>
<span class="s2">            return True</span>
<span class="s2">        return False</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def spanish_months(month):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        spanish_months_dict = {</span>
<span class="s2">            &#39;enero&#39;: &#39;jan&#39;, &#39;febrero&#39;: &#39;feb&#39;, &#39;marzo&#39;: &#39;mar&#39;,</span>
<span class="s2">            &#39;abril&#39;: &#39;apr&#39;, &#39;mayo&#39;: &#39;may&#39;, &#39;junio&#39;: &#39;jun&#39;,</span>
<span class="s2">            &#39;julio&#39;: &#39;jul&#39;, &#39;agosto&#39;: &#39;aug&#39;, &#39;septiembre&#39;: &#39;sep&#39;,</span>
<span class="s2">            &#39;octubre&#39;: &#39;oct&#39;, &#39;noviembre&#39;: &#39;nov&#39;, &#39;diciembre&#39;: &#39;dec&#39;</span>
<span class="s2">        }</span>
<span class="s2">        return spanish_months_dict[month.lower().strip()]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def quarter1_to_month(month):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        quarter_dict = {</span>
<span class="s2">            &#39;q1&#39;: &#39;mar&#39;,</span>
<span class="s2">            &#39;q2&#39;: &#39;jun&#39;,</span>
<span class="s2">            &#39;q3&#39;: &#39;sep&#39;,</span>
<span class="s2">            &#39;q4&#39;: &#39;dec&#39;</span>
<span class="s2">        }</span>
<span class="s2">        return quarter_dict[month.lower().strip()]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def contains_number(value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        for character in value:</span>
<span class="s2">            if character.isdigit():</span>
<span class="s2">                return True</span>
<span class="s2">        return False</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsFiles:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def create_directory(dir_name):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Creating Directory&#39;)</span>
<span class="s2">        Path(dir_name).mkdir(parents=True, exist_ok=True)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def download_file(self, url, destination_path=&quot;&quot;):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        req = RequestsWrapper()</span>
<span class="s2">        response = req.get(url)</span>
<span class="s2">        logger.info(f&quot;downloading: </span><span class="si">{url}</span><span class="s2">&quot;)  # pylint: disable=logging-fstring-interpolation</span>
<span class="s2">        filename = url.split(&quot;/&quot;)[-1]</span>
<span class="s2">        if destination_path == &quot;&quot;:</span>
<span class="s2">            file_destination = filename</span>
<span class="s2">        else:</span>
<span class="s2">            self.create_directory(destination_path)</span>
<span class="s2">            file_destination = f&quot;</span><span class="si">{destination_path}</span><span class="s2">/</span><span class="si">{filename}</span><span class="s2">&quot;</span>

<span class="s2">        with open(file_destination, &quot;wb&quot;) as out_file:</span>
<span class="s2">            shutil.copyfileobj(response.raw, out_file)</span>
<span class="s2">        del response</span>

<span class="s2">        logger.error(&#39;error on file download&#39;)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def get_input_file(input_path, header=&#39;&#39;, sheet_number=0, to_dict_val=&#39;&#39;):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.warning(&#39;importing file from </span><span class="si">%s</span><span class="s2">&#39;, input_path)</span>
<span class="s2">        if &#39;xlsx&#39; in input_path:</span>
<span class="s2">            to_find_data = pd.read_excel(os.path.abspath(input_path), sheet_name=sheet_number)</span>
<span class="s2">        else:</span>
<span class="s2">            to_find_data = pd.read_csv(os.path.abspath(input_path))</span>

<span class="s2">        if to_dict_val == &#39;&#39;:</span>
<span class="s2">            return to_find_data[header].drop_duplicates().to_list()</span>

<span class="s2">        return to_find_data.set_index(header).to_dict()[to_dict_val]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def get_file_list(file_dir=&#39;.&#39;, file_extension=&#39;txt&#39;, is_latest_only=False):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        try:</span>
<span class="s2">            list_of_files = glob.glob(</span>
<span class="s2">                f&#39;</span><span class="si">{file_dir}</span><span class="s2">/*.</span><span class="si">{file_extension}</span><span class="s2">&#39;)  # * means all if need specific format then *.csv</span>
<span class="s2">            if is_latest_only:</span>
<span class="s2">                return max(list_of_files, key=os.path.getctime)</span>
<span class="s2">        except ValueError:</span>
<span class="s2">            logger.error(&#39;No </span><span class="si">%s</span><span class="s2"> files found&#39;, file_extension)</span>
<span class="s2">            return []</span>
<span class="s2">        return list_of_files</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsJSON:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def save_json(url=&#39;&#39;, jsondir=&#39;&#39;, file_name=&#39;data.json&#39;, sleep_time=None):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        _UtilFunctions().files.create_directory(jsondir)</span>
<span class="s2">        if sleep_time is None:</span>
<span class="s2">            req = RequestsWrapper()</span>
<span class="s2">        else:</span>
<span class="s2">            req = RequestsWrapper(sleep_time=sleep_time)</span>
<span class="s2">        sold_items = req.get(url)</span>
<span class="s2">        Path(f&#39;</span><span class="si">{jsondir}</span><span class="s2">/</span><span class="si">{file_name}</span><span class="s2">.json&#39;).write_bytes(sold_items.content)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def get_json(url, sleep_seconds=None):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Get JSON file from </span><span class="si">%s</span><span class="s2">&#39;, url)</span>
<span class="s2">        if sleep_seconds is None:</span>
<span class="s2">            sleep_seconds = random.randint(1, 3)</span>
<span class="s2">        req = RequestsWrapper()</span>
<span class="s2">        res = req.get(url, sleep_seconds=sleep_seconds)</span>
<span class="s2">        return res.json()</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def get_json_from_html_script_tag(self, doc=None, index=0, **kwargs):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        json_object = None</span>
<span class="s2">        logger.info(&#39;getting json from html script&#39;)</span>
<span class="s2">        soup = BeautifulSoup(_UtilFunctions().html.print_html(doc=doc, is_print=False), &#39;lxml&#39;)</span>
<span class="s2">        res = soup.find(&#39;script&#39;, **kwargs)</span>
<span class="s2">        try:</span>
<span class="s2">            json_object = json.loads(res.contents[index])</span>
<span class="s2">            return json_object</span>
<span class="s2">        except Exception as err:  # pylint: disable=broad-except</span>
<span class="s2">            logger.error(err)</span>
<span class="s2">            bad_json = res.contents[index]</span>
<span class="s2">            improved_json = self._improve_json_content(bad_json)</span>
<span class="s2">            json_object = self._bruteforce_json_fix(improved_json)</span>
<span class="s2">        return json_object</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def _improve_json_content(bad_json):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        improved_json = re.sub(r&#39;&quot;\s*$&#39;, &#39;&quot;,&#39;, bad_json, flags=re.MULTILINE)</span>
<span class="s2">        improved_json.replace(&#39;&quot;</span><span class="se">\\</span><span class="s2">&#39;, &#39;&#39;)</span>
<span class="s2">        improved_json.replace(&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;, &#39;&quot;&#39;)</span>
<span class="s2">        return improved_json</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def _bruteforce_json_fix(improved_json, retry_count=20):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">#DIVIDER</span>
<span class="s2">        def add_strings(prefix, improved_json, retry_count, prefix_to_increment=&#39;}]&#39;):</span>
<span class="s2">            for i in range(retry_count):</span>
<span class="s2">                suffix = &#39;&#39;</span>
<span class="s2">                for j in range(retry_count):</span>
<span class="s2">                    try:</span>
<span class="s2">                        suffix += &#39;}&#39;</span>
<span class="s2">                        json_object = json.loads(f&#39;</span><span class="si">{improved_json}{prefix}{suffix}</span><span class="s2">&#39;)</span>
<span class="s2">                        logger.warning(&#39;json bruteforce success.&#39;)</span>
<span class="s2">                        return json_object</span>
<span class="s2">                    except Exception:  # pylint: disable=broad-except</span>
<span class="s2">                        logger.info(&#39;fix_type #</span><span class="si">%s</span><span class="s2"> adding </span><span class="si">%s%s</span><span class="s2">: retrying </span><span class="si">%s</span><span class="s2"> times.&#39;,</span>
<span class="s2">                                    i, prefix, suffix, j)</span>
<span class="s2">                prefix += prefix_to_increment</span>
<span class="s2">            return None</span>

<span class="s2">        for prefix_to_increment in [&#39;}]&#39;, &#39;]&#39;, &#39;]}]&#39;]:</span>
<span class="s2">            for prefix in [&#39;&#39;, &#39;&quot;&#39;, &#39;&quot;}&#39;]:</span>
<span class="s2">                json_object = add_strings(prefix, improved_json, retry_count,</span>
<span class="s2">                                          prefix_to_increment=prefix_to_increment)</span>
<span class="s2">                if json_object is not None:</span>
<span class="s2">                    return json_object</span>
<span class="s2">        logger.error(&#39;bruteforce failed.&#39;)</span>
<span class="s2">        return None</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsHTML:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def save_html(url=&#39;&#39;, htmldir=&#39;&#39;, filename=&#39;&#39;, driver=None):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;saving HTML files&#39;)</span>
<span class="s2">        _UtilFunctions().files.create_directory(htmldir)</span>

<span class="s2">        if driver:</span>
<span class="s2">            with open(f&#39;</span><span class="si">{htmldir}</span><span class="s2">/</span><span class="si">{filename}</span><span class="s2">.html&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;) as file:</span>
<span class="s2">                file.write(driver.page_source)</span>
<span class="s2">        else:</span>
<span class="s2">            req = RequestsWrapper()</span>
<span class="s2">            res = req.get(url)</span>
<span class="s2">            with open(f&#39;</span><span class="si">{htmldir}</span><span class="s2">/</span><span class="si">{filename}</span><span class="s2">.html&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;) as file:</span>
<span class="s2">                file.write(res.text)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def get_html_table(driver=None, table_index=0, just_header=False, with_header=False,</span>
<span class="s2">                       **kwargs):  # pylint: disable=too-many-locals,too-many-branches</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        try:</span>
<span class="s2">            logger.info(&#39;scraping HTML table from page_source&#39;)</span>
<span class="s2">            soup = BeautifulSoup(driver.page_source, &#39;lxml&#39;)</span>
<span class="s2">            if len(kwargs) &gt; 0:</span>
<span class="s2">                tables = soup.find_all(&#39;table&#39;, **kwargs)</span>
<span class="s2">            else:</span>
<span class="s2">                tables = soup.find_all(&#39;table&#39;)</span>

<span class="s2">            table_body = tables[table_index].find(&#39;tbody&#39;)</span>

<span class="s2">            if just_header:</span>
<span class="s2">                logger.info(&#39;scraping the header of the HTML table&#39;)</span>
<span class="s2">                table_header = tables[table_index].find(&#39;thead&#39;)</span>
<span class="s2">                header = []</span>
<span class="s2">                for row in table_header.find_all(&#39;tr&#39;):</span>
<span class="s2">                    for count, col in enumerate(row.find_all(&#39;th&#39;)):</span>
<span class="s2">                        val = col.text.strip()</span>
<span class="s2">                        if len(val) == 0:</span>
<span class="s2">                            header.append(str(count))</span>
<span class="s2">                            continue</span>
<span class="s2">                        header.append(col.text.strip())</span>
<span class="s2">                    return header</span>

<span class="s2">            if with_header:</span>
<span class="s2">                logger.info(&#39;Scraping header of the HTML table with content&#39;)</span>
<span class="s2">                table_header = tables[table_index].find(&#39;thead&#39;)</span>
<span class="s2">                header = []</span>
<span class="s2">                table_data = []</span>
<span class="s2">                for row in table_header.find_all(&#39;tr&#39;):</span>
<span class="s2">                    for count, col in enumerate(row.find_all(&#39;th&#39;)):</span>
<span class="s2">                        val = col.text.strip()</span>
<span class="s2">                        if len(val) == 0:</span>
<span class="s2">                            header.append(str(count))</span>
<span class="s2">                            continue</span>
<span class="s2">                        header.append(col.text.strip())</span>

<span class="s2">                for row in table_body.find_all(&#39;tr&#39;):</span>
<span class="s2">                    data = </span><span class="si">{}</span><span class="s2"></span>
<span class="s2">                    for count, col in enumerate(row.find_all(&#39;td&#39;)):</span>
<span class="s2">                        val = col.text.strip()</span>
<span class="s2">                        data.update({header[count]: val})</span>
<span class="s2">                    table_data.append(data)</span>
<span class="s2">                return table_data</span>

<span class="s2">            logger.info(&#39;Scraping the body of the HTML table&#39;)</span>
<span class="s2">            table_data = []</span>
<span class="s2">            for row in table_body.find_all(&#39;tr&#39;):</span>
<span class="s2">                data = []</span>
<span class="s2">                for col in row.find_all(&#39;td&#39;):</span>
<span class="s2">                    data.append(col.text.strip())</span>
<span class="s2">                table_data.append(data)</span>
<span class="s2">            return table_data</span>
<span class="s2">        except Exception as err:  # pylint: disable=broad-except</span>
<span class="s2">            logger.error(&#39;HTML Table scraping failed!!!&#39;)</span>
<span class="s2">            logger.error(err)</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def check_link(url, sleep_seconds=None):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Checking link </span><span class="si">%s</span><span class="s2">&#39;, url)</span>
<span class="s2">        if sleep_seconds is None:</span>
<span class="s2">            sleep_seconds = random.randint(1, 3)</span>
<span class="s2">        req = RequestsWrapper()</span>
<span class="s2">        response = req.get(url, sleep_seconds=sleep_seconds)</span>
<span class="s2">        logger.info(response.status_code)</span>
<span class="s2">        return response.status_code == 200</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def print_html(doc=None, is_print=True):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Printing HTML&#39;)</span>
<span class="s2">        if is_print:</span>
<span class="s2">            print(etree.tostring(doc, pretty_print=True))</span>
<span class="s2">        return etree.tostring(doc, pretty_print=True)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsParse:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def is_partial_run(parser):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Executing Code on Partial Run&#39;)</span>
<span class="s2">        return parser.parse_args().run</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def end_partial_run(fetch, header=None):  # pylint: disable=unused-argument</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        logger.info(&#39;Ending Partial Run&#39;)</span>
<span class="s2">        fetch_arr = fetch</span>
<span class="s2">        fetch_arr.append([&#39;#----------------------End of Partial Run---------------------#&#39;])</span>
<span class="s2">        return fetch_arr</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsDecorator:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def retry(func, retry_times=3, sleep_seconds=1, false_output=None):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">#DIVIDER</span>
<span class="s2">        def retry_decorator():</span>
<span class="s2">            for i in range(retry_times + 1):</span>
<span class="s2">                if i &gt; 0:</span>
<span class="s2">                    logger.warning(&#39;retrying a </span><span class="si">%s</span><span class="s2"> function </span><span class="si">%s</span><span class="s2"> times&#39;, func().__name__, i)</span>
<span class="s2">                try:</span>
<span class="s2">                    data = func()</span>
<span class="s2">                except Exception as err:  # pylint: disable=broad-except</span>
<span class="s2">                    logger.error(err)</span>
<span class="s2">                    time.sleep(sleep_seconds)</span>
<span class="s2">                    continue</span>
<span class="s2">                if false_output is None:</span>
<span class="s2">                    if data is not false_output:</span>
<span class="s2">                        break</span>
<span class="s2">                else:</span>
<span class="s2">                    if data != false_output:</span>
<span class="s2">                        break</span>
<span class="s2">                time.sleep(sleep_seconds)</span>
<span class="s2">            return data</span>

<span class="s2">        return retry_decorator</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def threaded(func):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">#DIVIDER</span>
<span class="s2">        def wrapper(*args, **kwargs):</span>
<span class="s2">            thread = Thread(target=func, args=args)</span>
<span class="s2">            thread.start()</span>
<span class="s2">            return thread</span>

<span class="s2">        return wrapper</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _UtilFunctionsData:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def split_list(alist, wanted_parts=1):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        length = len(alist)</span>
<span class="s2">        return [alist[i * length // wanted_parts: (i + 1) * length // wanted_parts]</span>
<span class="s2">                for i in range(wanted_parts)]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def df_delete_col_except(dataframe, list_of_col, exception_list=None):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        temp_df = dataframe</span>
<span class="s2">        if exception_list is None:</span>
<span class="s2">            exception_list = []</span>

<span class="s2">        for col in list_of_col:</span>
<span class="s2">            if any(x == str(col) for x in exception_list):</span>
<span class="s2">                pass</span>
<span class="s2">            else:</span>
<span class="s2">                try:</span>
<span class="s2">                    temp_df.drop(str(col), inplace=True, axis=1)</span>
<span class="s2">                except Exception:  # pylint: disable=broad-except</span>
<span class="s2">                    pass</span>

<span class="s2">        return temp_df</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def df_col_pop(dataframe, col_name, is_int=False):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        cols = list(dataframe)</span>
<span class="s2">        cols.insert(0, cols.pop(cols.index(col_name)))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if not is_int:</span>
<span class="s2">            dataframe = dataframe.loc[:, cols]</span>
<span class="s2">            return dataframe</span>
<span class="s2">        dataframe = dataframe.iloc[:, cols]</span>
<span class="s2">        return dataframe</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def df_sort_row(dataframe, col_name):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        return dataframe.sort_values(by=col_name, key=lambda col: col.str.lower())</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _DataStream:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    class DataType:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>

<span class="s2">#DIVIDER</span>
<span class="s2">        def __init__(self, key, value):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">            self.key = key</span>
<span class="s2">            self.value = value</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        def __repr__(self):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">            return str(self.value)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    class DataObject:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>

<span class="s2">#DIVIDER</span>
<span class="s2">        def __init__(self, **kwargs):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">            for key, value in kwargs.items():</span>
<span class="s2">                setattr(self, key, _DataStream().DataType(key, value))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class _SeleniumUtils:  # pylint: disable=too-few-public-methods</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    EC = selenium.webdriver.support.expected_conditions</span>
<span class="s2">    WebDriverWait = selenium.webdriver.support.ui.WebDriverWait</span>
<span class="s2">    SeleniumBy = selenium.webdriver.common.by.By</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def wait_for_page_load(self, driver, wait_time=30):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        while not self._page_is_loading(driver, wait_time=wait_time):</span>
<span class="s2">            continue</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    @staticmethod</span>
<span class="s2">    def _page_is_loading(driver, wait_time=30):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        for _ in wait_time:</span>
<span class="s2">            loading = driver.execute_script(&quot;return document.readyState&quot;)</span>
<span class="s2">            if loading == &quot;complete&quot;:</span>
<span class="s2">                return True</span>

<span class="s2">            time.sleep(0.5)</span>
<span class="s2">            yield False</span>
<span class="s2">        return True</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def wait_for_element(self, driver, xpath, wait_time=30):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        try:</span>
<span class="s2">            self.WebDriverWait(driver, wait_time).until(</span>
<span class="s2">            self.EC.presence_of_element_located((self.SeleniumBy.XPATH, xpath)))</span>
<span class="s2">        except Exception as e:</span>
<span class="s2">            print(e)</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <pre><code>    get the children of the current element
    :param tagname: you can select tag to filter the children,
</code></pre>
<p>e.g. if you want to search a tag, just input a
        :return: List of ZenElement Object</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <p>By Enumerator to make element searching same as Selenium Searching format.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      <p>Utility Functions mostly used in Scraping</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      <pre><code>    Strip HTML tags from string
    :param value: input a string
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      <pre><code>    remove non digit character from a string
    :param value: string
    :return: string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-53'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-53'>#</a>
      </div>
      <pre><code>    remove all digit character in a string
    :param value: string
    :return: string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-54'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-54'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-55'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-55'>#</a>
      </div>
      <pre><code>    remove non letters
    :param value: string
    :return: string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-56'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-56'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-57'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-57'>#</a>
      </div>
      <pre><code>    Check if the string is a month
    :param month: month string 3 characters only
    :return: bool
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-58'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-58'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-59'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-59'>#</a>
      </div>
      <pre><code>    check for spanish month
    :param month: check month
    :return: return month equivalent in string 'jan, feb, mar'
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-60'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-60'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-61'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-61'>#</a>
      </div>
      <pre><code>    get quarter month based on quarter data
    :param month: input quarter e.g. q1 = mar
    :return: month string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-62'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-62'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-63'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-63'>#</a>
      </div>
      <p>check if a string contains number</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-64'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-64'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-65'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-65'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-66'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-66'>#</a>
      </div>
      <p>Create a directory</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-67'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-67'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-68'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-68'>#</a>
      </div>
      <pre><code>    :param url: url to download file
    :param destination_path: directory with file name to store image data
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-69'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-69'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-70'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-70'>#</a>
      </div>
      <pre><code>    :param input_path: path of input file
    :param header: the name of the header to scrape
    :param has_sheet: check if csv or excel file input
    :param to_dict_val: if this has value this will serve as the dictionary value and
    header is the dictionary key
    :return: list or dictionary if to_dict_val is not ''
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-71'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-71'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-72'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-72'>#</a>
      </div>
      <pre><code>    get list of all file in the directory
    :param file_dir: file directory string
    :param file_extension: file extension ('txt') is the default
    :param is_latest_only: if this is True, then return only the latest file in the directory
    :return: list of directory , or a single directory
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-73'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-73'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-74'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-74'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-75'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-75'>#</a>
      </div>
      <pre><code>    :param url: url of the html page you want to save
    :param jsondir: directory on where to save the json
    :param file_name: the filename on the saved directory
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-76'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-76'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-77'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-77'>#</a>
      </div>
      <pre><code>    :param url: url to get json
    :return: json file
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-78'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-78'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-79'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-79'>#</a>
      </div>
      <pre><code>    :param doc: response document object
    :param index: index on the &lt;script/&gt; tag
    :return: return a json dictionary
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-80'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-80'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-81'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-81'>#</a>
      </div>
      <p>improve json content</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-82'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-82'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-83'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-83'>#</a>
      </div>
      <pre><code>    private function to bruteforce json file
    :param improved_json: parsed json data
    :param retry_count: retry count
    :return: fixed json string
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-84'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-84'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-85'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-85'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-86'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-86'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-87'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-87'>#</a>
      </div>
      <pre><code>    :param url: url of the html page you want to save
    :param htmldir: directory on where to save the html
    :param filename: the filename on the saved directory
    :param driver: this is for selenium, if driver is stated that means
    that we will download the page from selenium, url not needed
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-88'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-88'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-89'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-89'>#</a>
      </div>
      <pre><code>    Getting HTMl Table from &lt;table&gt; tag inside an html
    :param driver: selenium driver to scrape table data
    :param table_index: index of the table to be sraped
    :param just_header: return an array of table header
    :param with_header: boolean if table header will be included in the scrape
    :return: list of dict if with_header == True, list of list if with_header == False
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-90'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-90'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-91'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-91'>#</a>
      </div>
      <pre><code>    :param url: url of the link to check
    :return: check if link exists
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-92'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-92'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-93'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-93'>#</a>
      </div>
      <pre><code>    Print the HTMl file on the console.
    :return: HTML File as a String
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-94'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-94'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-95'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-95'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-96'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-96'>#</a>
      </div>
      <p>Create a Partial run based on an argument</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-97'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-97'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-98'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-98'>#</a>
      </div>
      <p>End Partial Run based on an argument</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-99'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-99'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-100'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-100'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-101'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-101'>#</a>
      </div>
      <pre><code>    retry until output not equals to false_output
    :param func: input a function to retry
    :param retry_times: the number of retry
    :param sleep_seconds: sleep time
    :param false_output: output that should be disregarded on the retry
    :return: value or false_output
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-102'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-102'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-103'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-103'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-104'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-104'>#</a>
      </div>
      <pre><code>    Decorator that multithreads the target function
    with the given parameters. Returns the thread
    created for the function
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-105'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-105'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-106'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-106'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-107'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-107'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-108'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-108'>#</a>
      </div>
      <pre><code>    split list into several parts
    :param alist: list of values
    :param wanted_parts: how parts should the list have
    :return: list of lists
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-109'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-109'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-110'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-110'>#</a>
      </div>
      <pre><code>    :param dataframe: dataframe to modify
    :param list_of_col: list of all column to remove
    :param exception_list: list of all exceptions
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-111'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-111'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-112'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-112'>#</a>
      </div>
      <pre><code>    pop column(header) to the top of all column
    :param df: dataframe
    :param col_name: column to pop on top of all column
    :param is_int: is the value of the column int?
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-113'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-113'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-114'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-114'>#</a>
      </div>
      <p>us ix to reorder (loc for str or boolean, iloc for int)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-115'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-115'>#</a>
      </div>
      <pre><code>    sort dataframe row based on column name
    :param dataframe: dataframe to sort
    :param col_name: column name to sort every value with
    :return: return dataframe with sorted value
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-116'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-116'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-117'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-117'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-118'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-118'>#</a>
      </div>
      <p>Unique type class to decipher between attributes</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-119'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-119'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-120'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-120'>#</a>
      </div>
      <p>ORM Type Key value to add on the ORM Object</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-121'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-121'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-122'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-122'>#</a>
      </div>
      <p>Return value</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-123'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-123'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-124'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-124'>#</a>
      </div>
      <p>Basic ORM Class</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-125'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-125'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-126'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-126'>#</a>
      </div>
      <p>ORM to create classess with variables</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-127'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-127'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-128'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-128'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-129'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-129'>#</a>
      </div>
      <p>from selenium.common.exceptions import NoSuchElementException
from selenium.webdriver.common.by import By as SeleniumBy
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-130'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-130'>#</a>
      </div>
      <pre><code>    :param driver:
    :param wait_time:
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-131'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-131'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-132'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-132'>#</a>
      </div>
      <pre><code>    :param driver:
    :param wait_time:
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-133'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-133'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-134'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-134'>#</a>
      </div>
      <pre><code>    :param driver: Selenium webdriver
    :param wait_time: wait time in seconds
    :param xpath: xpath expression to wait
    :return:
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-135'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-135'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
